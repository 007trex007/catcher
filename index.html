<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, user-scalable=no">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script>
      async function getIPandLocation() {
        try {
          // Get the IP address
          const response = await fetch('https://api.ipify.org?format=json');
          const data = await response.json();
          const ipAddress = data.ip;
      
          // Use the IP address in the ipapi.co URL
          const locationResponse = await fetch(`https://ipapi.co/${ipAddress}/json/`); 
          const locationData = await locationResponse.json();
      
          // Output the data
          console.log('IP-адрес:', ipAddress);
          console.log('Широта:', locationData.latitude);
          console.log('Долгота:', locationData.longitude); 
        } catch (error) {
          console.error('Ошибка получения данных:', error);
        }
      }
      getIPandLocation(); // Call the function
      let tg = window.Telegram.WebApp
      tg.setBackgroundColor('#fff9b1')
      tg.expand()
      tg.disableVerticalSwipes()
      tg.setHeaderColor('#fff9b1')
      <!-- tg.sendData('test data') -->
      tg.MainButton.setParams({
        text      : 'Сохранить',
        color: '#6f8455',
        is_visible: true,
        text_color: '#ffffff'
    })
      tg.MainButton.show()
      tg.MainButton.enable()

      const sendDataToTelegram = () => {
        tg.sendData(selectedRegions);
      }
      
      tg.onEvent('mainButtonClicked', sendDataToTelegram)
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="rectangle-1">
    <div class="the_title">Настройки Catcher</div>
    <p class="discription">Выбери что мне ловить:</p>
    <p class="switch-container">
    Удалённые сообщения 
    <label class="form-switch">
        <input type="checkbox">
        <i></i>
      </label>
    </p>
    <p class="switch-container">
    Изменённые сообщения
    <label class="form-switch">
      <input type="checkbox">
      <i></i>
    </label>
    </p>
    <p class="discription2">Введи сид-фразу для сохранения временных фото:</p>
      <input type="text", maxlength='25', value="", class="textField">
      <p class="discription2">Как это работает: Catcher может поймать самоуничтожающееся фото и отправить его тебе. для этого установи кодовую фразу. Ответь ей на фото собеседника и я сохраню что надо!</p>
  </div>  
    <script>
      var imgPath = 'back.png';
      document.querySelector('body').style.backgroundImage = 'url(' + imgPath + ')';
    </script>
</body>
</html>